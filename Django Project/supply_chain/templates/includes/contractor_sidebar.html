<!-- Contractor Sidebar -->
<aside class="w-64 bg-white border-r border-slate-200 hidden lg:block p-6 sticky top-16 h-[calc(100vh-4rem)] overflow-y-auto">
    <!-- Contractor Info -->
    <div class="mb-8">
        <div class="w-16 h-16 bg-dark-green rounded-full flex items-center justify-center mx-auto mb-3">
            <i data-lucide="user" class="w-8 h-8 text-white"></i>
        </div>
        <h3 class="text-center font-bold text-dark-green">{{ user.profile.company_name|default:user.username }}</h3>
        <p class="text-center text-xs text-slate-500">Contractor</p>
    </div>
    
    <!-- Navigation -->
    <h2 class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-4">Contractor Menu</h2>
    <nav class="space-y-2">
        <a href="{% url 'contractor_dashboard' %}"
           class="flex items-center gap-3 p-3 {% if request.resolver_match.url_name == 'contractor_dashboard' %}bg-emerald-50 text-dark-green{% else %}text-slate-600 hover:bg-slate-50{% endif %} rounded-xl font-medium transition">
            <i data-lucide="layout-dashboard" class="w-5 h-5"></i> Dashboard
        </a>
        <a href="{% url 'available_projects' %}"
           class="flex items-center gap-3 p-3 {% if request.resolver_match.url_name == 'available_projects' %}bg-emerald-50 text-dark-green{% else %}text-slate-600 hover:bg-slate-50{% endif %} rounded-xl transition">
            <i data-lucide="search" class="w-5 h-5"></i> Browse Projects
        </a>
        <a href="{% url 'my_bids' %}"
           class="flex items-center gap-3 p-3 {% if request.resolver_match.url_name == 'my_bids' %}bg-emerald-50 text-dark-green{% else %}text-slate-600 hover:bg-slate-50{% endif %} rounded-xl transition">
            <i data-lucide="send" class="w-5 h-5"></i> My Bids
            {% if active_bids_count > 0 %}
                <span class="ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full">{{ active_bids_count }}</span>
            {% endif %}
        </a>
        <a href="{% url 'awarded_projects' %}"
           class="flex items-center gap-3 p-3 {% if request.resolver_match.url_name == 'awarded_projects' %}bg-emerald-50 text-dark-green{% else %}text-slate-600 hover:bg-slate-50{% endif %} rounded-xl transition">
            <i data-lucide="award" class="w-5 h-5"></i> Awarded Projects
        </a>
        <a href="{% url 'my_teams' %}"
           class="flex items-center gap-3 p-3 {% if request.resolver_match.url_name == 'my_teams' %}bg-emerald-50 text-dark-green{% else %}text-slate-600 hover:bg-slate-50{% endif %} rounded-xl transition">
            <i data-lucide="users" class="w-5 h-5"></i> My Teams
        </a>
        <a href="{% url 'profile' %}"
           class="flex items-center gap-3 p-3 {% if request.resolver_match.url_name == 'profile' or request.resolver_match.url_name == 'password_change' %}bg-emerald-50 text-dark-green{% else %}text-slate-600 hover:bg-slate-50{% endif %} rounded-xl transition">
            <i data-lucide="settings" class="w-5 h-5"></i> Profile & Settings
        </a>
    </nav>
    
    <!-- Quick Stats -->
    <div class="mt-8 pt-8 border-t border-slate-100">
        <h3 class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-4">My Stats</h3>
        <div class="space-y-3">
            <div class="flex justify-between items-center">
                <span class="text-sm text-slate-600">Active Bids</span>
                <span class="font-bold text-dark-green">{{ stats.active_bids }}</span>
            </div>
            <div class="flex justify-between items-center">
                <span class="text-sm text-slate-600">Awarded</span>
                <span class="font-bold text-emerald-600">{{ stats.awarded_bids }}</span>
            </div>
            <div class="flex justify-between items-center">
                <span class="text-sm text-slate-600">Success Rate</span>
                <span class="font-bold text-blue-600">{{ stats.success_rate }}%</span>
            </div>
        </div>
    </div>
</aside>
